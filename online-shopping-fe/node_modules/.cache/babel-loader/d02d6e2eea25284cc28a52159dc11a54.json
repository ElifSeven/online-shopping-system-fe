{"ast":null,"code":"import _objectSpread from \"/Users/elifseven/Desktop/web_app_project/online-shopping-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/elifseven/Desktop/web_app_project/online-shopping-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/elifseven/Desktop/web_app_project/online-shopping-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/elifseven/Desktop/web_app_project/online-shopping-fe/src/Components/Details/Details.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { addItemInCart } from \"../../Redux/Actions\";\nimport Api from \"../../Api\";\nimport Item from \"../Item/Item\";\nimport { connect } from \"react-redux\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from '@material-ui/core/Paper';\n\nclass ConnectedDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.isCompMounted = false;\n    this.state = {\n      relatedItems: [],\n      quantity: 1,\n      item: null,\n      color: \"\",\n      size: 36,\n      itemLoading: false\n    };\n  }\n\n  fetchProductAndRelatedItems(productId) {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var item, relatedItems;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.setState({\n              itemLoading: true\n            });\n\n            _context.next = 3;\n            return Api.getItemUsingID(productId);\n\n          case 3:\n            item = _context.sent;\n            _context.next = 6;\n            return Api.searchItems({\n              category: item.category\n            });\n\n          case 6:\n            relatedItems = _context.sent;\n\n            // Make sure this component is still mounted before we set state..\n            if (_this.isCompMounted) {\n              _this.setState({\n                item,\n                quantity: 1,\n                relatedItems: relatedItems.data.filter(x => x.id !== item.id),\n                itemLoading: false\n              });\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // If ID of product changed in URL, refetch details for that product\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.fetchProductAndRelatedItems(this.props.match.params.id);\n    }\n  }\n\n  componentDidMount() {\n    this.isCompMounted = true;\n    this.fetchProductAndRelatedItems(this.props.match.params.id);\n  }\n\n  componentWillUnmount() {\n    this.isCompMounted = false;\n  }\n\n  render() {\n    if (this.state.itemLoading) {\n      return React.createElement(CircularProgress, {\n        className: \"circular\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      });\n    }\n\n    if (!this.state.item) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: 20,\n        marginTop: 10,\n        fontSize: 22\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.item.name), React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.item.imageUrls[0],\n      alt: \"\",\n      width: 250,\n      height: 250,\n      style: {\n        border: \"1px solid lightgray\",\n        borderRadius: \"5px\",\n        objectFit: \"cover\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        flex: 1,\n        marginLeft: 20,\n        display: \"flex\",\n        flexDirection: \"column\",\n        color: \"#FFA500\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontSize: 16\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Price: \", this.state.item.price, \" $\"), this.state.item.popular && React.createElement(\"div\", {\n      style: {\n        fontSize: 14,\n        marginTop: 5,\n        color: \"#FFA500\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"(Popular product)\"), React.createElement(TextField, {\n      type: \"number\",\n      value: this.state.quantity,\n      style: {\n        fontSize: 14,\n        marginTop: 20,\n        marginBottom: 10,\n        width: 70\n      },\n      label: \"Quantity\",\n      inputProps: {\n        min: 1,\n        max: 10,\n        step: 1\n      },\n      onChange: e => {\n        this.setState({\n          quantity: parseInt(e.target.value)\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        marginTop: 10,\n        marginBottom: 10,\n        color: \"gray   \"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Color Range \", this.state.item.color), React.createElement(TextField, {\n      type: \"number\",\n      value: this.state.size,\n      style: {\n        fontSize: 14,\n        marginTop: 15,\n        marginBottom: 10,\n        width: 70\n      },\n      label: \"Size\",\n      inputProps: {\n        min: 35,\n        max: 45,\n        step: 1\n      },\n      onChange: e => {\n        this.setState({\n          size: parseInt(e.target.value)\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(Button, {\n      style: {\n        width: 170,\n        marginTop: 5\n      },\n      color: \"#FFA500\",\n      variant: \"outlined\",\n      onClick: () => {\n        this.props.dispatch(addItemInCart(_objectSpread({}, this.state.item, {\n          quantity: this.state.quantity\n        })));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Add to cart \", React.createElement(AddShoppingCartIcon, {\n      style: {\n        marginLeft: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      style: {\n        marginTop: 20,\n        marginBottom: 20,\n        fontSize: 22,\n        color: \"#FFA500\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Product Description\"), React.createElement(\"div\", {\n      style: {\n        maxHeight: 200,\n        fontSize: 13,\n        overflow: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, this.state.item.description ? this.state.item.description : \"Not available\"), React.createElement(\"div\", {\n      style: {\n        marginTop: 30,\n        marginBottom: 50,\n        fontSize: 20,\n        color: \"#FFA500\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Customer Reviews\"), React.createElement(\"div\", {\n      style: {\n        marginTop: 20,\n        marginBottom: 10,\n        fontSize: 22,\n        color: \"#FFA500\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Related Items\"), this.state.relatedItems.slice(0, 3).map(x => {\n      return React.createElement(Item, {\n        key: x.id,\n        item: x,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\nlet Details = connect()(ConnectedDetails);\nexport default Details;","map":{"version":3,"sources":["/Users/elifseven/Desktop/web_app_project/online-shopping-fe/src/Components/Details/Details.js"],"names":["React","Component","Button","AddShoppingCartIcon","CircularProgress","addItemInCart","Api","Item","connect","TextField","Paper","ConnectedDetails","constructor","props","isCompMounted","state","relatedItems","quantity","item","color","size","itemLoading","fetchProductAndRelatedItems","productId","setState","getItemUsingID","searchItems","category","data","filter","x","id","componentDidUpdate","prevProps","prevState","snapshot","match","params","componentDidMount","componentWillUnmount","render","padding","marginBottom","marginTop","fontSize","name","display","imageUrls","border","borderRadius","objectFit","flex","marginLeft","flexDirection","price","popular","width","min","max","step","e","parseInt","target","value","dispatch","maxHeight","overflow","description","slice","map","Details"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { addItemInCart } from \"../../Redux/Actions\";\nimport Api from \"../../Api\";\nimport Item from \"../Item/Item\";\nimport { connect } from \"react-redux\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from '@material-ui/core/Paper';\n\n\n\nclass ConnectedDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isCompMounted = false;\n\n    this.state = {\n      relatedItems: [],\n      quantity: 1,\n      item: null,\n        color:\"\",\n        size : 36,\n      itemLoading: false\n    };\n  }\n\n  async fetchProductAndRelatedItems(productId) {\n    this.setState({ itemLoading: true });\n\n    let item = await Api.getItemUsingID(productId);\n\n    let relatedItems = await Api.searchItems({\n      category: item.category,\n    });\n\n    // Make sure this component is still mounted before we set state..\n    if (this.isCompMounted) {\n      this.setState({\n        item,\n        quantity: 1,\n        relatedItems: relatedItems.data.filter(x => x.id !== item.id),\n        itemLoading: false,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\n    // If ID of product changed in URL, refetch details for that product\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.fetchProductAndRelatedItems(this.props.match.params.id);\n    }\n\n  }\n\n\n  componentDidMount() {\n    this.isCompMounted = true;\n    this.fetchProductAndRelatedItems(this.props.match.params.id);\n  }\n\n  componentWillUnmount() {\n    this.isCompMounted = false;\n  }\n\n\n\n  render() {\n    if (this.state.itemLoading) {\n      return <CircularProgress className=\"circular\" />;\n    }\n\n    if (!this.state.item) {\n      return null;\n    }\n\n    return (\n      <div style={{ padding: 10 }}>\n        <div\n          style={{\n            marginBottom: 20,\n            marginTop: 10,\n            fontSize: 22\n          }}\n        >\n          {this.state.item.name}\n        </div>\n        <div style={{ display: \"flex\" }}>\n          <img src={this.state.item.imageUrls[0]} alt=\"\" width={250} height={250}\n            style={{\n              border: \"1px solid lightgray\",\n              borderRadius: \"5px\",\n              objectFit: \"cover\"\n            }} />\n          <div\n            style={{\n              flex: 1,\n              marginLeft: 20,\n              display: \"flex\",\n              flexDirection: \"column\",\n                color:\"#FFA500\"\n            }}\n          >\n\n            <div style={{\n              fontSize: 16\n\n            }}>\n              Price: {this.state.item.price} $\n            </div>\n            {this.state.item.popular && (\n              <div style={{ fontSize: 14, marginTop: 5, color: \"#FFA500\" }}>\n                (Popular product)\n              </div>\n            )}\n\n            <TextField\n              type=\"number\"\n              value={this.state.quantity}\n              style={{fontSize: 14, marginTop: 20, marginBottom: 10, width: 70 }}\n              label=\"Quantity\"\n              inputProps={{ min: 1, max: 10, step: 1 }}\n              onChange={e => {\n                this.setState({ quantity: parseInt(e.target.value) });\n              }}\n            />\n\n              <div style={{\n                  fontSize: 12,\n                  marginTop: 10,\n                  marginBottom: 10,\n                  color:\"gray   \"\n\n              }}>\n                  Color Range {this.state.item.color}\n              </div>\n\n\n              <TextField\n                  type=\"number\"\n                  value={this.state.size}\n                  style={{fontSize: 14, marginTop: 15, marginBottom: 10, width: 70 }}\n                  label=\"Size\"\n                  inputProps={{ min: 35, max: 45, step: 1 }}\n                  onChange={e => {\n                      this.setState({ size: parseInt(e.target.value) });\n                  }}\n              />\n\n            <Button\n              style={{ width: 170, marginTop: 5 }}\n              color=\"#FFA500\"\n              variant=\"outlined\"\n              onClick={() => {\n                this.props.dispatch(\n                  addItemInCart({\n                    ...this.state.item,\n                    quantity: this.state.quantity\n                  })\n                );\n              }}\n            >\n              Add to cart <AddShoppingCartIcon style={{ marginLeft: 5 }} />\n            </Button>\n          </div>\n        </div>\n\n        {/* Product description */}\n        <div\n          style={{\n            marginTop: 20,\n            marginBottom: 20,\n            fontSize: 22,\n              color:\"#FFA500\"\n          }}\n        >\n          Product Description\n        </div>\n        <div\n          style={{\n            maxHeight: 200,\n            fontSize: 13,\n            overflow: \"auto\"\n\n          }}\n        >\n          {this.state.item.description ? this.state.item.description : \"Not available\"}\n        </div>\n\n\n          {/* Customer reviews */}\n          <div\n              style={{\n                  marginTop: 30,\n                  marginBottom: 50,\n                  fontSize: 20,\n                  color:\"#FFA500\"\n              }}\n          >\n              Customer Reviews\n          </div>\n\n        {/* Relateditems */}\n        <div\n          style={{\n            marginTop: 20,\n            marginBottom: 10,\n            fontSize: 22,\n              color: \"#FFA500\"\n          }}\n        >\n          Related Items\n        </div>\n        {\n          this.state.relatedItems.slice(0, 3).map(x => {\n            return <Item key={x.id} item={x} />;\n          })\n        }\n      </div >\n    );\n  }\n}\n\nlet Details = connect()(ConnectedDetails);\nexport default Details;\n"]},"metadata":{},"sourceType":"module"}